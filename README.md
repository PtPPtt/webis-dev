# Webis - An Efficient Pipeline from Web Data Crawling to Domain Knowledge Base Construction

[English](README.md) | [Chinese](README_CN.md)

![Python Version](https://img.shields.io/badge/Python-3.9+-blue)

![License](https://img.shields.io/badge/License-Open%20Source-green)

## Project Overview

**Webis** is a powerful end-to-end data processing platform that combines **large language model (LLM)** technology to provide a high-efficiency, automated **data processing pipeline**. The platform helps users quickly crawl unstructured web data, clean it, and produce structured outputs, generating domain knowledge bases in JSON, Markdown, and other formats, then visualizing them as HTML pages.

In today's information explosion era, massive amounts of data are produced constantly, and traditional processing methods are often slow and inefficient. Webis uses an intelligent pipeline design to greatly improve data acquisition, cleaning, and structuring efficiency, while offering **customizability** and **flexible extensibility** to quickly adapt to different application scenarios.

---

## Table of Contents

1. [Project Overview](#project-overview)
2. [Core Features](#core-features)
3. [Quick Start](#quick-start)
   * [System Requirements](#system-requirements)
   * [Installation](#installation)
   * [Configure API Key](#configure-api-key)
4. [Directory Structure](#directory-structure)
5. [Usage](#usage)
   * [CLI Reference](#cli-reference)
   * [Outputs and Directory Layout](#outputs-and-directory-layout)
   * [Example 1: Crawl Layoff Information of Chinese Companies](#example-1-crawl-layoff-information-of-chinese-companies)
   * [Example 2: Summarize Recent News from Peking University](#example-2-summarize-recent-news-from-peking-university)
6. [Development and Extension](#development-and-extension)
7. [Contributing](#contributing)

---

## Core Features

* **Smart data processing and structured extraction**
  Webis provides a three-stage pipeline: **data acquisition -> text cleaning -> data structuring**. It performs deep mining on content from news, reports, and articles, producing structured knowledge bases such as JSON and Markdown reports.

* **Structured results visualized as web pages**
  Webis automatically builds visual web pages from structured text generated by the three-stage pipeline, making it easy to browse and share.

* **Plugin-based architecture with flexible extensibility**
  The system includes multiple data source interfaces and supports plugins such as custom data acquisition tools and format parsers, enabling extension on demand and adapting to different data sources and formats.

* **Multi-domain application examples**
  Webis supports data crawling and processing across domains. Two typical examples are:

  * **Enterprise situation analysis**: Users can request domestic enterprise layoff data and generate structured reports. For example, data from well-known companies (such as **JinkoSolar**, **Trina Solar**, and **Daqo New Energy**) can be used to produce information about layoff scale, timing, and industry background.

  * **Academic news and event report generation**: For example, for recent news about **Peking University**, the system can automatically crawl academic activities, innovation and entrepreneurship competitions, scholarship awards, and more, then organize them into structured reports for convenient news summaries and activity overviews.

---

## Quick Start

### System Requirements

* Python **3.9 or 3.10**
* **Conda** or **UV** environment management
* Git clone access
* LLM API Key (e.g., SiliconFlow / DeepSeek)

### Installation

1. **Install with Conda**

   ```bash
   git clone https://github.com/Easonnoway/webis-dev.git
   cd webis-dev
   bash setup/conda_setup.sh
   conda activate webis
   ```

2. **Install with UV**

   ```bash
   git clone https://github.com/Easonnoway/webis-dev.git
   cd webis-dev
   bash setup/uv_setup.sh
   source webis/bin/activate
   ```

### Configure API Key

#### Primary LLM API key

- `SILICONFLOW_API_KEY` (recommended) or `DEEPSEEK_API_KEY` (compatible)

#### Optional crawler tool API keys

- The system automatically selects tools based on available keys. Tools without keys will not be used.

- News search

  - `GNEWS_API_KEY` - used for GNewsTool news search
  - `SERPAPI_API_KEY` - used for SerpApi Google search
  - `BAIDU_AISEARCH_BEARER` - used for Baidu Qianfan AI search

- Code repository search

  - `GITHUB_TOKEN` - used for GitHub search

Ensure the LLM API key is configured in `.env.local` or `.env`:

```env
# Required
SILICONFLOW_API_KEY=your_key_here
# Optional
GNEWS_API_KEY=your_key_here
SERPAPI_API_KEY=your_key_here
BAIDU_AISEARCH_BEARER=your_key_here
GITHUB_TOKEN=your_token_here
```

---

## Directory Structure

```
webis-dev/
├── crawler/                 # Data source interfaces
├── tools/                   # File type processors
├── structuring/             # Prompting and extraction modules
├── setup/                   # Installation and dependency scripts
├── webis_pipeline.py        # Main execution entry
├── README.md
├── .env.local
└── pipeline_outputs/        # Runtime output directory
```

---

## Usage

### CLI Reference

Webis provides a set of CLI parameters to control task execution. The main parameters are:

| Parameter | Type | Default                         | Description                                      |
| --------- | ---- | ------------------------------- | ------------------------------------------------ |
| `task`    | str  | (required)                      | Natural language task for crawling and structuring |
| `--limit` | int  | `5`                             | Maximum number of items to crawl                 |
| `--out`   | str  | `pipeline_outputs/<timestamp>/` | Custom output directory                          |
| `--verbose` | flag | `False`                       | Enable detailed logging                          |
| `--workers` | int | `4`                           | Parallel workers for text extraction             |

### Outputs and Directory Layout

After execution, all outputs are stored in the output directory by timestamp, as shown below:

```
pipeline_outputs/
└── <timestamp>/                    # Run ID (Unix timestamp)
    ├── manifest.json               # Complete execution metadata
    ├── crawl_files.json           # List of acquired files
    ├── texts/                     # Cleaned text files
    │   ├── 0001_filename1.txt
    │   ├── 0002_filename2.txt
    │   └── ...
    └── structured/                # Final structured output
        ├── prompt.txt             # Generated extraction prompt
        └── result.{json|md}       # Structured result
```

### Example 1: Crawl Layoff Information of Chinese Companies

Users can request and analyze **layoff information of Chinese companies**, and output a structured report that includes company name, layoff scale, and timing. Example command:

```bash
python webis_pipeline.py "Check recent layoffs in Chinese companies and return a structured report" --limit 10 --verbose
```

**Output (excerpt):**

```
[
  {
    "company_name": "JinkoSolar",
    "industry": "photovoltaics",
    "layoff_scale": "5,400 people, layoff rate 16%",
    "layoff_time": "within six months (2024-2025)",
    "notes": "Leading company, net headcount reduction over six months."
  },
  {
    "company_name": "Trina Solar",
    "industry": "photovoltaics",
    "layoff_scale": "about 5,100 people, layoff rate 17%",
    "layoff_time": "within six months (2024-2025)",
    "notes": "Leading company, net headcount reduction over six months."
  },
  {
    "company_name": "Daqo New Energy",
    "industry": "photovoltaics",
    "layoff_scale": "layoff rate near 24%",
    "layoff_time": "within six months (2024-2025)",
    "notes": "Leading company."
  },
  {
    "company_name": "Anhui leading enterprise",
    "industry": "photovoltaics",
    "layoff_scale": "encouraging employees to resign",
    "layoff_time": "production suspension for 5 months starting in December",
    "notes": "Production suspension for 5 months starting in December; employees encouraged to resign."
  },
  {
    "company_name": "Zhejiang HJT company",
    "industry": "photovoltaics",
    "layoff_scale": "from 300 people down to 30",
    "layoff_time": "2024-2025",
    "notes": "One day on, one day off and production suspension schedules became industry norms."
  }
]
```

**Visualized page preview:**

<details>
  <summary>Click to view image</summary>
  <img src="example_pic/example1.png" alt="Image" width="500px" />
</details>

### Example 2: Summarize Recent News from Peking University

Users can request a report for **the latest news from Peking University**, covering academic activities, innovation and entrepreneurship competitions, and other major events. Example command:

```bash
python webis_pipeline.py "Summarize recent news from Peking University into a report" --limit 10 --verbose
```

**Output:**

<details>
<summary>Click to view report</summary>

````markdown
**Report on Recent News from Peking University**

Based on the provided texts, below is a structured report of major recent news events from Peking University:

**I. Academic Forums and Discipline Development**

1.  **The 8th "Forum of Deans of Economics Schools from 100 Chinese Universities" and the "Economics School Recruitment Fair"**
    *   **Theme:** Paradigm innovation in economics education and research in the AI era.
    *   **Time:** Dec 12-14.
    *   **Location:** School of Economics, Peking University.
    *   **Key participants:** Hosted by the School of Economics, Peking University; Vice President Dong Zhiyong attended and delivered remarks; deans from over 100 university economics schools participated.
    *   **Key content:** The forum focused on challenges and opportunities for economics in the AI era, discussing topics such as building China's independent economics knowledge system, innovating teaching and research, anchoring the 15th Five-Year Plan, and strengthening talent development. Vice President Dong Zhiyong highlighted the need to address research paradigms, talent cultivation, and discipline development, calling for an open and innovative spirit to advance the field.
    *   **Related activities and outcomes:**
        *   Four themed roundtable forums and nine parallel sub-forums were held.
        *   The "Sun Shangqing Development Knowledge Research and Exchange Award" ceremony took place, where Professor Peter Nolan of the University of Cambridge received the Outstanding Achievement Award and Professor Gong Binlei of Zhejiang University received the Young Scholar Award.
        *   The concurrent "Economics School Recruitment Fair" attracted over 3,000 PhD students and representatives from 130 universities and research institutions worldwide.

2.  **Peking University Survey Research Center Lixin Practical Teaching Base Established in Shanghai**
    *   **Event:** Unveiling of the "Peking University China Social Science Survey Center Lixin Practical Teaching Base."
    *   **Time:** Recently (exact date not specified).
    *   **Location:** Shanghai (Shanghai Lixin University of Accounting and Finance).
    *   **Key participating institutions:** Peking University China Social Science Survey Center; Shanghai Lixin University of Accounting and Finance.
    *   **Key content and significance:** The base marks an upgrade in cooperation from project participation (such as "China Family Panel Studies (CFPS)" and "China Enterprise Innovation and Entrepreneurship Survey (ESIEC)") to systematic talent development. Future work will deepen practical teaching, research collaboration, and talent pipeline development; organize students to participate in national survey projects; align with regional development needs; and provide evidence for policy making. Zhang Xiaobo, director of the Peking University Corporate Big Data Research Center, said this is an innovative attempt to bring academic resources to frontline talent training.

**II. Innovation, Entrepreneurship, and Competitions**

1.  **2025 Peking University HSBC - Cambridge Judge Global Innovation and Entrepreneurship Competition Concludes**
    *   **Event:** The 2025 season finals and the Peking University - Cambridge Bay Area Venture Forum.
    *   **Time:** Recently (report published on Dec 13; exact date not specified).
    *   **Location:** Peking University HSBC Business School.
    *   **Key participating institutions/figures:** Peking University HSBC Business School; Cambridge Judge Business School; Hai Wen (former vice president of Peking University and founding dean of HSBC Business School); Meng Shiran, British Consul General in Guangzhou, among others.
    *   **Key content and outcomes:**
        *   Eight teams advanced to the finals; Guangdong Embodied Storm Robotics Co., Ltd. won first prize.
        *   The 2026 season launched in parallel and will continue to focus on early- to mid-stage tech teams.
        *   The competition has been held for five editions, receiving over 2,300 projects, covering seven countries and regions, with post-competition financing exceeding 1 billion RMB. The 2025 season became a first-batch partner event of Shenzhen's "Kunpeng Plan," attracting over 500 teams worldwide.
        *   Dean Hai Wen noted the competition aims to build a high-quality platform connecting entrepreneurs with capital to serve social innovation and economic development.
        *   A venture forum and an appointment ceremony for new members of the venture advisory committee were also held.

**III. Awards and Scholarship Donations**

1.  **Second "Li Qibin Scholarship" Award Ceremony Held in 2025**
    *   **Event:** "Li Qibin Scholarship" award ceremony.
    *   **Time:** Dec 7, 2025.
    *   **Location:** Kavli Institute for Astronomy and Astrophysics, Peking University.
    *   **Key participants/institutions:** Li Yifei, chair of the Li Qibin Foundation (donor); faculty and student representatives from the Department of Astronomy, School of Physics (including Professor Zhang Huawei and Professor Wu Xuebing).
    *   **Key content and significance:**
        *   The scholarship was funded by Li Yifei to commemorate astronomer Li Qibin and cultivate talent in astronomy.
        *   This year, eight outstanding undergraduate and graduate astronomy students received awards (four undergraduates and four graduate students).
        *   In her remarks, Li Yifei reviewed her father Li Qibin's dedication to science and emphasized the importance of basic science and astrophysics research. She encouraged students to pursue interdisciplinary studies and proposed establishing a scholars' club to promote the development of astronomy in China.
        *   Award recipients expressed gratitude to the foundation and the university, and promised to carry forward the scientific spirit and study diligently.

**IV. Scholar Views and Academic Exchange**

1.  **Scholar View: Professor Su Jian on Expanding High-Quality Domestic Demand**
    *   **Person:** Professor Su Jian, School of Economics, Peking University.
    *   **Occasion:** "Guoshi Forum: 2025 Annual Conference."
    *   **Core view:** High-quality economic growth relies on high-quality demand, and the key to expanding such demand is developing new-quality productive forces. Paths include creating new supply through product innovation to drive new demand, and reducing costs through process innovation to popularize new products. Fiscal and monetary policies should be coordinated as a "combination punch," adopting a dual-track strategy of "stabilizing the economic fundamentals" and "expanding high-quality demand" to achieve effective improvements in economic quality and reasonable growth in scale.

2.  **Student Overseas Academic Visits (Guanghua School of Management PhD Students)**
    *   **Overview:** The text mentions several PhD students from the Guanghua School of Management at Peking University sharing their visiting study experiences at Princeton University, National University of Singapore, Columbia University, Yale University, and other institutions.
    *   **Core content:** Students reported broadened international perspectives, exposure to academic frontiers, improved research capability and independent living skills, and growth through cross-cultural exchange and collaboration. They expressed thanks for support from the university, advisors, and the China Scholarship Council.

**V. Other Mentions (Information Incomplete)**

*   The text briefly mentions the "National University Students Cross-cultural Competence Competition," where Peking University and Shanghai University respectively won championships, but provides no details.
*   The title mentions the "New Era - Good Journalist" national tour event held at Peking University, but the main content is missing.
*   The end of the text includes many unrelated date lists, tags, and repeated headings, providing no valid news information about Peking University.

**Summary:**

Recently, Peking University has been active in academic seminars, interdisciplinary practice, innovation and entrepreneurship education, scholarship programs, and scholarly viewpoints. The university is focused on responding to the AI-era transformation in economics education, deepening industry-academia collaboration in social surveys, building international innovation and entrepreneurship platforms, encouraging basic science research, and expanding international academic exchange. These activities reflect sustained efforts in advancing disciplines, talent development, social service, and global cooperation.
````

</details>

<br>

**Visualized page preview:**
<details>
  <summary>Click to view image</summary>
  <img src="example_pic/example2.png" alt="Image" width="500px" />
</details>

---

## Development and Extension

### Extend Data Acquisition Tools

Webis data acquisition components follow a unified plugin specification. You can add new data sources by implementing the **BaseTool interface**. A custom tool should:

1. Define tool metadata (name, description, capabilities).
2. Implement the key `run(task, **kwargs)` method, returning standardized crawl results.
3. Register the tool to the crawler agent (Agent) for scheduling and use.

This design ensures consistency across different crawlers and allows flexible replacement or combination of strategies for web content acquisition.

### Extend File Processors

All file processing logic (such as HTML, PDF, image OCR, and more) is also plugin-based. A custom processor should:

- Implement the `BaseFileProcessor` class and define supported file extensions.
- Implement the `extract_text()` method to extract text content.
- Return results with standard fields (such as `success`, `text`, and `meta`).

This makes it easy to add support for new file types or specific cleaning strategies.

---

## Contributing

Contributions are welcome. Please submit issues or pull requests on GitHub. If you need support, contact us through GitHub Issues.
